==== accomplished so far
== simulations with panstarrs cadence
 - using panstarrs cadence unioned into single band and simulating sines,
   sine model gets ~ 97% of periods correct ****
 - accuracy was not affected by using / not using errors
 - accuracy goes down to about 70% if use sawtooth function to simulate
 - conclusion: 97% is probably quite favorable, but does suggest that 
   accurate period estimation is possible

== newton method
 - used newton method to find phase in sawtooth model (period fixed), see
   sim.R. newton method is faster and nearly as accurate as gridsearch. gets
   stuck in local minima sometimes
- rss as function of phase is somewhat complicated. it is a piecewise quadratic (convex function). this is clear when there are few observations




==== goals
== simulations with newton and sawtooth
  - rerun simulations **** simulating from and fitting a sawtooth
    GOAL: have algorithm be fast (about same speed as GLS) because using
    newton AND have algorithm be accurate ~ 97%
       - ACHIEVED: 95% of lcs within 1% of truth (using NN=5)

== panstarrs data
  - estimate sawtooth functions from SDSS and compare GLS with sawtooths
    for Panstarrs data. branimir gave ground truth.
    GOAL: see some improvement in period estimation accuracy.
       - ACHIEVED: 45% of lcs within 1% of truth

== to do

=== do the following three simple steps (1 day)
- double check for coding errors in algorithm
   DONE: could not find any
- get rid of rr lyrae c (reduce period range to rrlyrae ab)
   DONE: NN=10, 0.1% accuracy now up to 55%
- return top 5 periods
   DONE: NN=10, 0.1% accuracy now up to 80%


=== bigger adjustments
- more accurate lc shape (2 days)
- could algorithm be converging to local min / max (2 days)
  - NN = 5 with 2 (or more) chains
- ridge penalty on amplitude, prior on period (1 day)


=== after doing all these we require
- 90% of lcs have a top 5 estimate within .1% of truth

If we cannot achieve this, we quit.



== to do
- consider effect of removing dust completely


- make note including an explanation of how amplitude is computed
- how to classify, in either bayesian or freqentist framework
- bayesianize model


= outline for talk
- intro to varianble stars
- cosmological motivation
- existing methods for period estimation / classification
- semi--physical model for RR Lyrae in DES
- period estimation tests
- model as classifier







- clean up code
- physical interpretation of terms in model
- importance of problem to cosmology
- prepare presentation


- code up in c
- compute MAP rather than MLE
- return posterior on parameters
  - use idea of mixture models from mike west
- classification ranking based on evidence
- numerical comparisons to other methods
- comparison of classification performance


= questions for lucas
- how do we determine distances once we estimate periods
- what to do about degeneracies
- I have amplitude parameter, cepheids do not, amplitude is a function of period
  - some evidence amplitude being function of period for rr lyrae
- will priors change for rr lyrae in different regions of sky
  - amplitude distribution probably will not change
  - but dust will
  - and distance will too
  - parameters are degenerate, so may not be able to separate 




=== sesar article
- will DES go deeper?
- does he estimate periods? will estimating periods help analysis?
   - he does not estimate periods but it will help analysis. (search for periods in article)
- what are structure functions?
